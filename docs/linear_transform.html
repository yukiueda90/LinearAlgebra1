<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>線形代数1</title>
    <!-- style -->
    <link rel="stylesheet" href="./common/style.css">
    <!-- mathjax -->
    <script src="./common/import_mathjax.js"></script>
</head>

<body>
    <header>
        <!-- (no header) -->
    </header>

    <!-- contents -->
    <div class="wrapper">

    <!-- sidebar -->
    <div class="side" id="sidebar"></div>

    <div class="hamburger" onclick="toggleSidebar()">
        ☰
    </div>
    
    <!-- main -->
    <main role="main"><article id="AppendixA"><h1>補足: 平面の線形変換</h1>
        <section id="AppendixA-1"><h2>A.1: 表現行列</h2>
            <p>ベクトル $\mathbf{v}$ をベクトル $\mathbf{w}$ に移す<b>写像</b> $f$ を考える, つまり 
                \[
                    \mathbf{w} = f(\mathbf{v})
                \] 
                とする. 本来であれば, より抽象的にベクトル空間を導入するところから始めるべきであろうが, ここではベクトルとして列ベクトル (およびそれと同一視できる幾何ベクトル) のみを考える. 
                このとき, 写像 $f$ のことを<b>関数</b>と呼ぶことがある. </p>
            <p>写像 (関数) $f$ が次の性質を満たすとき, $f$ を<b>線形変換</b> (<b>linear transform</b>) もしくは<b>線形写像</b> (<b>linear mapping</b>), <b>線形関数</b> (<b>linear function</b>) という:</p>
            <ul>
                <li>任意の $\mathbf{v}_1$, $\mathbf{v}_2$ に対し, 
                    \[
                        f(\mathbf{v}_1+\mathbf{v}_2) = f(\mathbf{v}_1) + f(\mathbf{v}_2).
                    \]</li>
                <li>任意のベクトル $\mathbf{v}$ と任意のスカラー値 $\lambda$ に対し, 
                    \[
                        f(\lambda\mathbf{v}) = \lambda f(\mathbf{v}).
                    \]</li>
            </ul>

            <div class="remark">
                <p>特に, 任意のベクトルを $\mathbf{0}$ に移す変換は線形変換である. 
                    このような線形変換を<b>零写像</b>という.
                </p>
                <p>線形変換 $f$ が零写像でないならば
                \[
                    f(\mathbf{v}) = \mathbf{0} \iff \mathbf{v} = \mathbf{0}
                \]
                が成立する.</p>
            </div><!-- /remark -->

            <div class="example">
                <p>いま, &quot;行列を列ベクトルの左から掛ける&quot;という操作はこの性質を満たすので, ある行列 $A$ を用いて
                \[
                    f(\mathbf{v}) = A\mathbf{v}
                \]
                と表すことができる写像 $f$ は線形変換である.</p>
            </div><!-- /example -->

            <hr>
            
            <p>ところで, 行列を用いて表すことができないような線形変換が存在するかというと, 答えは否である. 
                つまり, ベクトルをベクトルに移す任意の線形変換 $f$ に対して, 必ず対応する行列 $A$ が存在し $f(\mathbf{v}) = A\mathbf{v}$ が成り立つ.</p>
            
            <p>このことを (大雑把にではあるが) 解説する: まず, 任意のベクトル $\mathbf{v}\in\mathbb{R}^m$ に対して, $f(\mathbf{v})\in\mathbb{R}^n$ であるとする. いま, 任意のベクトル $\mathbf{v}\in\mathbb{R}^m$ は<a href="linear_combination.html#def_linear_combination">線型結合</a>を用いて
                \[
                    \mathbf{v} = \begin{pmatrix} 
                        v_1\cr 
                        v_2\cr 
                        \vdots\cr 
                        v_m 
                    \end{pmatrix} = v_1\mathbf{e}_1 + v_2\mathbf{e}_2 + \dots + v_m\mathbf{e}_m
                \]
                と表すことができる, ここで $\mathbf{e}_j\in\mathbb{R}^m$ は<a href="matrix.html#def_canonical_basis">標準基底</a>である.</p>
            <p>さて, 写像 $f$ の線形性を用いると
                \[
                    \begin{array}{rl}
                        f(\mathbf{v}) &= f(v_1\mathbf{e}_1 + v_2\mathbf{e}_2 + \dots + v_m\mathbf{e}_m) \cr
                        &= f(v_1\mathbf{e}_1) + f(v_2\mathbf{e}_2) + \dots + f(v_m\mathbf{e}_m) \cr
                        &= v_1f(\mathbf{e}_1) + v_2f(\mathbf{e}_2) + \dots + v_mf(\mathbf{e}_m) \cr
                        &= \begin{pmatrix}f(\mathbf{e}_1), f(\mathbf{e}_2), \dots, f(\mathbf{e}_m)\end{pmatrix}\mathbf{v} 
                    \end{array}
                \]
                が成り立つ, ここで $f(\mathbf{e}_j) \in\mathbb{R}^n$ は列ベクトルであり, $f(\mathbf{e}_j)$ を第 $j$ 列ベクトルに持つ行列
                \[
                    \begin{pmatrix}f(\mathbf{e}_1), f(\mathbf{e}_2), \dots, f(\mathbf{e}_m)\end{pmatrix}
                \]
                は $n\times m$ 型行列である. 
                そこで, この行列を $A$ とおくと,
                \[
                    f(\mathbf{v}) = \begin{pmatrix}f(\mathbf{e}_1), f(\mathbf{e}_2), \dots, f(\mathbf{e}_m)\end{pmatrix}\mathbf{v} = A\mathbf{v}
                \] 
                が得られるのである. このように, ベクトルをベクトルに移す線形変換は行列と同一視することができる. この行列 $A$ を<b>表現行列</b>という.</p>

            <div class="remark">
                <p>上では標準基底を用いた場合のみ言及している. 
                    異なる<b>基底</b>を用いた場合には, 同じ線形変換 $f$ に対する表現行列であっても, 標準基底を用いた場合と異なるものになるが, ここでは深入りしない. </p>
            </div><!-- /remark -->

            <hr>

            <p>線形変換は, 幾何ベクトルを幾何ベクトルに移す変換とみることで, 図形的な解釈が可能であるが, その前に線形変換の性質をいくつか確認しておく. </p>
            <p>まず, $2$ つの線形変換 $f$, $g$ に対し, これらの<b>和</b> $h = f+g$ を,
                \[
                    h(\mathbf{v}) = f(\mathbf{v}) + g(\mathbf{v})
                \]
                と定めると, $h$ も線形変換となる.  
                また, $f$ の表現行列を $A$, $g$ の表現行列を $B$ とおくと, $h=f+g$ の表現行列は $A+B$ となる.
            </p>
            <p>次に, $2$ つの線形変換 $f$, $g$ に対し, これらの<b>合成</b> $h = f\circ g$ を,
                \[
                    h(\mathbf{v}) = f(g(\mathbf{v}))
                \]
                と定めると, $h$ も線形変換となる.  
                また, $f$ の表現行列を $A$, $g$ の表現行列を $B$ とおくと, $h=f\circ g$ の表現行列は $AB$ となる.</p>
            <p>最後に<b>逆変換</b>を紹介する. 線形変換 $f$ の表現行列は (標準基底を用いた場合) 
            \[
                A = \begin{pmatrix}f(\mathbf{e}_1), f(\mathbf{e}_2), \dots, f(\mathbf{e}_m)\end{pmatrix}
            \]
            と表すことができるが, ここで $\mathbf{e}_1$, $\mathbf{e}_2$, $\dots$, $\mathbf{e}_m$ は<a href="linear_combination.html#def_linear_independent">線型独立</a>なので 
            \[
                c_1\mathbf{e}_1 + c_2\mathbf{e}_2 + \dots + c_m\mathbf{e}_m = \mathbf{0} \iff c_1=c_2=\dots=c_m = 0
            \]
            が成立する. ここで線形変換 $f$ が零写像でないとすると,
            \[
                \begin{array}{rl}
                    c_1f(\mathbf{e}_1) + c_2f(\mathbf{e}_2) + \dots + c_mf(\mathbf{e}_m) = \mathbf{0} &\iff f(c_1\mathbf{e}_1 + c_2\mathbf{e}_2 + \dots + c_m\mathbf{e}_m) = \mathbf{0} \cr
                    &\iff c_1\mathbf{e}_1 + c_2\mathbf{e}_2 + \dots + c_m\mathbf{e}_m = \mathbf{0} \cr
                    &\iff c_1=c_2=\dots=c_m=0
                \end{array}
            \]
            となるため, $f(\mathbf{e}_1)$, $f(\mathbf{e}_2)$, $\dots$, $f(\mathbf{e}_m)$ も線型独立である. 
            従って, もしも $n=m$ ならば正方行列 $A$ は (<a href="linear_combination.html#thm_invertible_and_linear_independence">この定理</a>より) 正則になる.
            そのため, $g(\mathbf{v}) = A^{-1}\mathbf{v}$ という線形変換は, 
            \[
                f(g(\mathbf{v})) = \mathbf{v},\quad g(f(\mathbf{v})) = \mathbf{v}
            \]
            を満たす. このような線形変換 $g$ を $f$ の逆変換という. 上の構成から, $f$ があるベクトルを同じサイズのベクトルに移す, 零写像でない線形変換であれば, 必ず逆変換が存在する. 
            </p>

        </section>

        <hr>

        <section id="AppendixA-2"><h2>A.2: アフィン変換</h2>
            <p>以降, 簡単のため $2\times 1$ 型の列ベクトル $\mathbf{x}$ に対する変換のみを考えることにする. 
                いま, このベクトル $\mathbf{x}$ は, $xy$ 平面上の点と同一視することができる.
                これを用いると, $xy$ 平面上の図形は, ある性質を満たすベクトル $\mathbf{x}$ たちの<a href="index.html#def_set">集合</a>として表すことができる. </p>

            <p>さて, $xy$ 平面上の図形は $\mathbb{R}^2$ の部分集合として記述することが可能である.
                特に, 図形に対する線形変換を考える際には, しばしば以下のような図形を用いる:
                \[
                    \Delta^n = \left\{(x_1,\dots, x_n)\in\mathbb{R}^n \mid x_1,\dots,x_n>0,\ \displaystyle\sum_{i=1}^nx_i < 1\right\}.
                \]
                $n=2$ の場合は, $\Delta^2$ は $xy$ 平面上の $3$ つの直線 $x=0$, $y=0$, $x+y=1$ で囲まれる部分であり, つまり 
                \[
                    P_0 = (0,0),\quad P_1 = (1,0),\quad P_2=(0,1)
                \]
                を頂点とする直角 $2$ 等辺三角形の内部となる. このような図形 $\Delta^n\subset\mathbb{R}^n$ を<b>標準単体</b> (<b>standard simplex</b>), <b>単位単体</b> (<b>unit simplex</b>) もしくは単に<b>単体</b> (<b>simplex</b>) という.
            </p>
            
            <div class="definition" data-name="アフィン変換">
                ベクトル $\mathbf{x}\in\mathbb{R}^n$ に対して, 行列 $A\in\mathbb{R}^{n\times n}$ とベクトル $\mathbf{b}\in\mathbb{R}^n$ を用いて
                \[
                    f(\mathbf{x}) = A\mathbf{x} + \mathbf{b}
                \]
                と表される写像 $f$ を<b>アフィン変換</b> (<b>affine transform</b>) という.
            </div><!-- /definition -->
            <p>
                アフィン変換は $xy$ 平面上のベクトル $\mathbf{x}$ を, やはり $xy$ 平面上のベクトル $f(\mathbf{x})$ に移す写像である.
                そこで, ある図形を表す集合 $K\subset\mathbb{R}^2$ について, $\mathbf{x}\in K$ を アフィン変換により移したものを考えてみる:
                \[
                    K' = \{f(\mathbf{x})\in\mathbb{R}^2 \mid \mathbf{x}\in K\}
                \]
                この $K'$ も $xy$ 平面上の図形を表しているとみなせるため, これによりアフィン変換は『図形を図形に移す』とみなすことにする.
                このとき, 以下の変形は全てアフィン変換により表現することができる. 
                <ul>
                    <li>回転: 
                        \[
                            \begin{pmatrix} 
                                \cos\varphi & -\sin\varphi \cr
                                \sin\varphi & \cos\varphi 
                            \end{pmatrix}\begin{pmatrix} 
                                r\cos\theta\cr
                                r\sin\theta 
                            \end{pmatrix} = \begin{pmatrix} 
                                r\cos(\theta+\varphi) \cr 
                                r\sin(\theta+\varphi) 
                            \end{pmatrix}.
                        \]
                    </li>
                    <li>拡大, 縮小:
                        \[
                            \begin{pmatrix} 
                                \alpha & 0 \cr 
                                0 & \beta 
                            \end{pmatrix}\begin{pmatrix} 
                                x \cr 
                                y 
                            \end{pmatrix} = \begin{pmatrix} 
                                \alpha x \cr 
                                \beta y 
                            \end{pmatrix}.
                        \]
                    </li>
                    <li>せん断 (例えば長方形を平行四辺形にするように, 傾きを加える変換):
                        \[
                            \begin{pmatrix} 
                                1 & \gamma \cr 
                                0 & 1 
                            \end{pmatrix}\begin{pmatrix} 
                                x \cr 
                                y 
                            \end{pmatrix} = \begin{pmatrix} 
                                x + \gamma y \cr 
                                y 
                            \end{pmatrix}, \text{ もしくは }
                        \]
                        \[
                            \begin{pmatrix} 
                                1 & 0 \cr 
                                \gamma & 1 
                            \end{pmatrix}\begin{pmatrix} 
                                x \cr 
                                y 
                            \end{pmatrix} = \begin{pmatrix} 
                                x \cr 
                                \gamma x + y 
                            \end{pmatrix}
                            \]
                    </li>
                    <li>並行移動: 
                        \[
                            \begin{pmatrix} 
                                x \cr 
                                y 
                            \end{pmatrix} + \begin{pmatrix} 
                                b_1 \cr 
                                b_2 
                            \end{pmatrix} = \begin{pmatrix} 
                                x+b_1 \cr 
                                y+b_2 
                            \end{pmatrix}.
                        \]
                    </li>
                </ul>
                単体 $\Delta^2$ をアフィン変換により変形したものを以下に図示する: それぞれ点線で描かれた三角形が変形前の単体を表しており, 実線で描かれたものが変形後の図形である.
            </p>
            
            <div class="resize"><img src='./images/affine_rotation.png'></div>
            <div class="resize"><img src='./images/affine_scaling.png'></div>
            <div class="resize"><img src='./images/affine_shearing.png'></div>
            <div class="resize"><img src='./images/affine_parallel.png'></div>

            <p style="clear:both">
                いま, 簡単のため $n=2$ の場合に
                \[
                    \mathbf{x} = \begin{pmatrix} 
                        x_1 \cr 
                        x_2 
                    \end{pmatrix},\quad f(\mathbf{x}) = \begin{pmatrix} 
                        f_1 \cr 
                        f_2 
                    \end{pmatrix},\quad A = \begin{pmatrix} 
                        a_{11} & a_{12} \cr 
                        a_{21} & a_{22} 
                    \end{pmatrix},\quad \mathbf{b} = \begin{pmatrix} 
                        b_1 \cr 
                        b_2 
                    \end{pmatrix}
                \]
                と表記する. 
                このとき, アフィン変換は
                \[
                    \begin{pmatrix}
                        f_1 \cr
                        f_2 
                    \end{pmatrix} = \begin{pmatrix} 
                        a_{11} & a_{12} \cr 
                        a_{21} & a_{22} 
                    \end{pmatrix}\begin{pmatrix} 
                        x_1 \cr 
                        x_2 
                    \end{pmatrix} + \begin{pmatrix} 
                        b_1 \cr
                        b_2 
                    \end{pmatrix}
                \]
                と表されるが, これは以下と同値となる:
                \[
                    \begin{pmatrix} 
                        f_1 \cr 
                        f_2 \cr 
                        1 
                    \end{pmatrix} = \begin{pmatrix} 
                        a_{11} & a_{12} & b_1 \cr 
                        a_{21} & a_{22} & b_2 \cr 
                        0 & 0 & 1 
                    \end{pmatrix}\begin{pmatrix} 
                        x_1 \cr
                        x_2 \cr 
                        1 
                    \end{pmatrix}.
                \]
                このように, アフィン変換は行列の形で表現することができ, 従ってアフィン変換の合成は, 対応する行列の積を計算することにより表現することができる.
                画像処理などに用いられる複雑な変形であっても, それがアフィン変換の合成により表すことができるならば, 行列の計算に帰着させることができるのである.
            </p>
        </section>
        
    </article></main>
    </div>
</body>

<!-- javascript -->
<script src="./common/create_statement_block.js"></script>
<script src="./common/function_toggleSidebar.js"></script>
<script src="./common/import_sidebar.js"></script>

</html>
